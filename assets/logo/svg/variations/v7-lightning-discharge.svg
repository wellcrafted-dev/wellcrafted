<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <!-- Lightning gradient -->
    <linearGradient id="lightningGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#FBBF24;stop-opacity:1" />
      <stop offset="50%" style="stop-color:#F59E0B;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#DC2626;stop-opacity:1" />
    </linearGradient>
    
    <!-- Plasma gradient -->
    <radialGradient id="plasmaGrad">
      <stop offset="0%" style="stop-color:#FFFFFF;stop-opacity:1" />
      <stop offset="30%" style="stop-color:#FBBF24;stop-opacity:0.9" />
      <stop offset="70%" style="stop-color:#8B5CF6;stop-opacity:0.7" />
      <stop offset="100%" style="stop-color:#06B6D4;stop-opacity:0.5" />
    </radialGradient>
    
    <!-- Energy field -->
    <radialGradient id="energyField">
      <stop offset="0%" style="stop-color:#A855F7;stop-opacity:0.8" />
      <stop offset="50%" style="stop-color:#3B82F6;stop-opacity:0.4" />
      <stop offset="100%" style="stop-color:#06B6D4;stop-opacity:0" />
    </radialGradient>
    
    <!-- Electric glow -->
    <filter id="electricGlow">
      <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
      <feMerge> 
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    
    <!-- Voltage pattern -->
    <pattern id="voltagePattern" x="0" y="0" width="8" height="8" patternUnits="userSpaceOnUse">
      <path d="M 0,4 Q 2,0 4,4 T 8,4" stroke="#8B5CF6" stroke-width="0.5" fill="none" opacity="0.3"/>
    </pattern>
  </defs>
  
  <!-- Electric field background -->
  <rect x="0" y="0" width="100" height="100" fill="url(#voltagePattern)"/>
  <circle cx="50" cy="50" r="48" fill="url(#energyField)"/>
  
  <!-- Main lightning bolt -->
  <g filter="url(#electricGlow)">
    <path d="M 30,20 L 35,35 L 25,40 L 45,60 L 35,65 L 55,85" 
          stroke="url(#lightningGrad)" stroke-width="4" fill="none" 
          stroke-linecap="round" stroke-linejoin="round"/>
    
    <!-- Lightning core -->
    <path d="M 30,20 L 35,35 L 25,40 L 45,60 L 35,65 L 55,85" 
          stroke="#FFFFFF" stroke-width="1.5" fill="none" 
          stroke-linecap="round" stroke-linejoin="round"/>
  </g>
  
  <!-- Branching lightning -->
  <g filter="url(#electricGlow)" opacity="0.8">
    <path d="M 38,30 L 50,25 L 60,35" 
          stroke="url(#lightningGrad)" stroke-width="2.5" fill="none"/>
    <path d="M 42,45 L 55,40 L 65,50" 
          stroke="url(#lightningGrad)" stroke-width="2" fill="none"/>
    <path d="M 28,55 L 20,60 L 15,70" 
          stroke="url(#lightningGrad)" stroke-width="2" fill="none"/>
    
    <!-- Smaller branches -->
    <path d="M 48,28 L 55,22" stroke="url(#lightningGrad)" stroke-width="1.5" fill="none"/>
    <path d="M 58,42 L 70,38" stroke="url(#lightningGrad)" stroke-width="1.5" fill="none"/>
    <path d="M 22,62 L 12,68" stroke="url(#lightningGrad)" stroke-width="1.5" fill="none"/>
  </g>
  
  <!-- Plasma channels -->
  <g fill="url(#plasmaGrad)" opacity="0.7">
    <ellipse cx="35" cy="30" rx="3" ry="8" transform="rotate(-20 35 30)"/>
    <ellipse cx="42" cy="50" rx="2.5" ry="6" transform="rotate(15 42 50)"/>
    <ellipse cx="48" cy="70" rx="3" ry="7" transform="rotate(-10 48 70)"/>
  </g>
  
  <!-- Electrical nodes -->
  <g fill="url(#plasmaGrad)">
    <circle cx="30" cy="20" r="4"/>
    <circle cx="55" cy="85" r="4"/>
    <circle cx="45" cy="60" r="3"/>
    <circle cx="35" cy="35" r="2.5"/>
    <circle cx="25" cy="40" r="2"/>
  </g>
  
  <!-- Tesla coil structure -->
  <g transform="translate(75,25)">
    <!-- Coil base -->
    <rect x="-5" y="0" width="10" height="15" rx="2" fill="url(#lightningGrad)"/>
    <rect x="-4" y="1" width="8" height="13" rx="1" fill="#F59E0B"/>
    
    <!-- Coil winding -->
    <g stroke="#EA580C" stroke-width="1" fill="none">
      <ellipse cx="0" cy="3" rx="3" ry="1"/>
      <ellipse cx="0" cy="5" rx="3" ry="1"/>
      <ellipse cx="0" cy="7" rx="3" ry="1"/>
      <ellipse cx="0" cy="9" rx="3" ry="1"/>
      <ellipse cx="0" cy="11" rx="3" ry="1"/>
    </g>
    
    <!-- Discharge terminal -->
    <circle cx="0" cy="-5" r="3" fill="url(#plasmaGrad)"/>
    <circle cx="0" cy="-5" r="2" fill="#FFFFFF" opacity="0.8"/>
    
    <!-- High voltage arc -->
    <path d="M 0,-8 Q -5,-12 -8,-8 Q -10,-4 -5,0" 
          stroke="#FBBF24" stroke-width="2" fill="none" filter="url(#electricGlow)"/>
  </g>
  
  <!-- Ion trail -->
  <g fill="#8B5CF6" opacity="0.6">
    <circle cx="40" cy="25" r="1"/>
    <circle cx="48" cy="35" r="1.2"/>
    <circle cx="38" cy="45" r="0.8"/>
    <circle cx="52" cy="55" r="1"/>
    <circle cx="42" cy="65" r="1.1"/>
    <circle cx="50" cy="75" r="0.9"/>
  </g>
  
  <!-- Electromagnetic field lines -->
  <g stroke="#06B6D4" stroke-width="1" fill="none" opacity="0.5">
    <ellipse cx="50" cy="50" rx="20" ry="35" transform="rotate(15 50 50)"/>
    <ellipse cx="50" cy="50" rx="25" ry="40" transform="rotate(15 50 50)"/>
    <ellipse cx="50" cy="50" rx="30" ry="45" transform="rotate(15 50 50)"/>
  </g>
  
  <!-- Voltage measurements -->
  <g fill="#FBBF24" font-family="monospace" font-size="4" opacity="0.9">
    <text x="5" y="15">⚡ 50kV</text>
    <text x="5" y="25">Current: 15A</text>
    <text x="5" y="35">Frequency: 60Hz</text>
  </g>
  
  <!-- Power calculations -->
  <g fill="#F59E0B" font-family="monospace" font-size="3" opacity="0.8">
    <text x="5" y="85">Power: 750kW</text>
    <text x="5" y="90">Energy: 2.5MJ</text>
    <text x="5" y="95">Arc length: 1.2m</text>
  </g>
  
  <!-- Ozone generation -->
  <g fill="#06B6D4" opacity="0.4">
    <circle cx="65" cy="20" r="1.5"/>
    <circle cx="75" cy="40" r="1.2"/>
    <circle cx="85" cy="60" r="1"/>
    <circle cx="70" cy="70" r="1.3"/>
  </g>
  
  <!-- Safety warning -->
  <g fill="#DC2626" font-family="monospace" font-size="3" opacity="0.9">
    <text x="70" y="85">⚠ DANGER</text>
    <text x="70" y="90">High Voltage</text>
    <text x="70" y="95">Lethal Current</text>
  </g>
  
  <!-- Stepped leader progression -->
  <g stroke="#FBBF24" stroke-width="1" fill="none" opacity="0.6" stroke-dasharray="2,2">
    <path d="M 30,15 L 32,25 L 30,35"/>
    <path d="M 35,30 L 38,40 L 35,50"/>
    <path d="M 40,55 L 45,65 L 40,75"/>
  </g>
  
  <!-- Return stroke -->
  <g stroke="#FFFFFF" stroke-width="0.8" fill="none" opacity="0.9">
    <path d="M 55,85 L 50,75 L 48,65 L 45,55 L 40,45 L 35,35 L 30,25 L 28,15"/>
  </g>
</svg>